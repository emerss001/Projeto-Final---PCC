{% extends 'base.html' %}
{% block content %}
{% load static %}
{% load crispy_forms_tags %}

<div class="card">
    <div class="card-body">
      
         

<!-- Botão para acionar modal -->
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#ExemploModalCentralizado">
    Adicionar Cliente
  </button>

  <a href="/serviços/"><button class="btn btn-secondary">Voltar</button></a>
<form action="." method="post">

  
  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Adicione aqui novos serviços</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <form method="post">
            {% csrf_token %}
            {{form.as_p}}
            <input type="submit" value="Salvar">
        </form>
        </div>

      </div>
    </div>
  </div>
  <div class="modal fade" id="ExemploModalCentralizado" tabindex="-1" role="dialog" aria-labelledby="TituloModalCentralizado" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="TituloModalCentralizado">Adione aqui novos clientes</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Fechar">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          
          <form method="POST">
            {% csrf_token %}
            <p>
    <label for="id_nome">Nome:</label>
    <input type="text" name="nome" maxlength="100" required id="id_nome">
    
    
  </p>

  
  <p>
    <label for="id_pagamento">Último pagamento:</label>
    <input type="text" name="pagamento" maxlength="19" id="id_pagamento">
    
    
  </p>

  
  <p>
    <label for="id_tel">Telefone:</label>
    <input type="text" name="tel" maxlength="19" required id="id_tel">
    
    
  </p>

  
  <p hidden>
    <label for="id_Serviço">Serviço:</label>
    <select name="Serviço" required id="id_Serviço">
  <option value="{{servico.id}}" selected>---------</option>

</select>
    
    
      
    
  </p>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
                 <input type="submit" value="Salvar">
              </div>
          </form>
            


           
    
        </div>
      </div>
    </div>
  </div>
 </form>

 

        <br><br>


        <table class="table table-bordered">
            <thead>
              <tr>
              
                <th scope="col">Nome</th>
                <th scope="col">Telefone</th>
                <th scope="col">Data último pagamento</th>
                <th class = "text-center">Ações</th>
              </tr>
            </thead>

            <tbody>

              {% for Cliente in cts %}

              <tr>
              
                <td>{{Cliente.nome}}</td>
                <td>{{Cliente.tel}}</td>
                <td>{{Cliente.pagamento}}</td>
                
                <td class = "text-center">
                    
                    <a class="btn btn-warning" href="editar/{{Cliente.id}}">Editar</a>
               
                    <a class="btn btn-danger" href="excluir/{{Cliente.id}}">Excluir</a>

                </td>
                
              </tr>
              {% endfor %}
            </tbody>
          </table>

    </div>
</div>



<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>

{% endblock %}